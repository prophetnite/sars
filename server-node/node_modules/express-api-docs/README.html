<html>
   <head>
      <title>/Volumes/Home/howard/Work/CloudEco/express-api-docs/README</title>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
      <link href="http://code.jquery.com/ui/1.8.16/themes/ui-lightness/jquery-ui.css" rel="stylesheet" type="text/css">
      <link type="text/css" rel="stylesheet" href="../rpgit/pc/css/ui-lightness/jquery-ui-1.8.16.custom.css"/>

      <style type="text/css">
      </style>
      <script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
      <script type="text/javascript" src="../rpgit/pc/js/jquery-1.6.2.min.js"></script>
      <script type="text/javascript" src="http://code.jquery.com/ui/1.8.16/jquery-ui.min.js"></script>
      <script type="text/javascript" src="../rpgit/pc/js/jquery-ui-1.8.16.custom.min.js"></script>
      <script type="text/javascript" src="http://rpgit.cloudfoundry.com/pc/js/jquery.tabSlideOut.v1.3.js"></script>
   </head>
   <body>
<p>A simple wrapper for generating REST API documentation for Express-based
projects. This combines the parsing of [dox][1] with a [Handlebars][2]
template engine to produce HTML documentation describing a REST interface.</p>

<p>Keep in mind, the project makes some assumptions, so you probably want
to really just clone this project and change it.</p>

<h2 id="installation">Installation</h2>

<p>You can install by either running the following command:</p>

<pre><code>npm install express-api-docs
</code></pre>

<p>Or adding the appropriate line to your <code>package.json</code> file.</p>

<h2 id="using">Using</h2>

<p>Create a JavaScript file, like <code>make-docs.sh</code> that contains the
following:</p>

<pre><code>   var api = require('express-api-docs');
   api.generate('router.js', 'public/api.html');
</code></pre>

<p>The <code>api</code> variable has a single function, <code>generate()</code>, which
takes two parameters:</p>

<ul>
<li>Input file specifies a <code>router</code> script (see below).</li>
<li>Output file where the HTML code should be placed.</li>
</ul>

<h2 id="routerfile">Router File</h2>

<p>Currently, the project reads a single file for all the routes. While most
projects use the <code>app.js</code> file, you could separate the routes into another file
that the <code>app.js</code> file calls. Something like a <code>router.js</code> file:</p>

<pre><code>/**
 * Routes all API requests to particular functions.
 * This file would be referenced by the `app.js` file, as:
 *
 *      var app    = express.createServer();
 *      var routes = require('./router');
 *
 * And called:
 *
 *      routes.setup(app);
 */

var index = require('./routes/index');
var user = require('./routes/user');

module.exports.setup = function( app ) {
    app.get(   '/',            index.index );
    app.get(   '/user',        user.getAllUsers);  
    app.post(  '/user',        user.createUser);  
    app.get(   '/user/:email', user.getUser ); 
    app.delete('/user/:email', user.deleteUser);        
    app.put(   '/user/:email', user.updateUser );
};
</code></pre>

<p>The <em>parsing</em> code for analyzing the routes is currently very brittle
and will be the first piece to be retooled.</p>

<h2 id="resourceentries">Resource Entries</h2>

<p>The documentation also reads <a href="https://github.com/visionmedia/express-resource">Express-Resource</a>
entries. For instance:</p>

<pre><code>app.resource('user',     require('./resources/user'));
app.resource('register', require('./resources/register'));
app.resource('apps',     require('./resources/application'));
app.resource('services', require('./resources/service'));
</code></pre>

<p>In this case, the files are read and the REST routes are determined based on
<em>the name of the function</em>:</p>

<ul>
<li><code>GET     /name</code> -&gt; <code>index()</code></li>
<li><code>GET     /name/new</code> -&gt; <code>new()</code></li>
<li><code>POST    /name</code> -&gt; <code>create()</code></li>
<li><code>GET     /name/&lt;ID&gt;</code> -&gt; <code>show()</code></li>
<li><code>GET     /name/&lt;ID&gt;/edit</code> -&gt; <code>edit()</code></li>
<li><code>PUT     /name/&lt;ID&gt;</code> -&gt; <code>update()</code></li>
<li><code>DELETE  /name/&lt;ID&gt;</code> -&gt; <code>destroy()</code></li>
</ul>

<h2 id="releasenotes">Release Notes</h2>

<h3 id="v0.0.4">v 0.0.4</h3>

<p>Bug Fix: Variable names that require other files now can include underbar
characters.</p>

<h3 id="v0.0.3">v 0.0.3</h3>

<p>Work with both <strong>Express</strong> routes (e.g. <code>app.get</code>) as well as
<strong>Express Resource</strong> projects (e.g. <code>app.resource</code>).</p>

<h3 id="v0.0.2">v 0.0.2</h3>

<p>Minor Update: Templates now use the <strong>Handlebars</strong> project.</p>

<h3 id="v0.0.1">v 0.0.1</h3>

<p>Initial project that can parse a given JavaScript file containing <strong>Express</strong>
routes, e.g. <code>app.get</code> and <code>app.post</code>, and infer the comments from the
referenced files. </p>
